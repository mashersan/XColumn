# XColumn

![XColumn Screenshot](http://masherhouse.com/wp-content/uploads/2025/11/TweetDesk_image.jpg)

TweetDeck（旧）風のシンプルなマルチカラム型クライアントです。X (Twitter) のAPIを使用せず、`WebView2` (Edgeレンダリングエンジン) を利用して複数のタイムラインを効率的に表示します。

## ✨ 主な機能

* **マルチカラム表示**:
    * ホーム、通知、検索、リストをカラムとして自由に追加・並べ替え可能。
* **ウィンドウ スナップ＆マグネット**:
    * ウィンドウを移動する際、画面の端や他のXColumnウィンドウにピタッと吸着（スナップ）します。
    * 吸着したXColumnウィンドウは、片方を動かすともう片方も追従して移動（マグネット）します。
    * 片方のウィンドウをアクティブ（最前面）にすると、吸着している他のウィンドウも連動して前面に表示されます。
* **柔軟なレイアウト設定 **:
    * **カラム幅調整**: カラムの幅を自由に調整できます（300px～600px）。
    * **等分割/固定幅切り替え**: ウィンドウ幅に合わせて自動調整する「等分割モード」と、横スクロールで多くのカラムを表示する「固定幅モード」を選択可能です。
* **フォント・表示カスタマイズ**:
    * **フォント設定**: フォントの種類とサイズ(px)を指定可能。サイズ調整により、画面全体の情報量をコントロールできます。
    * **RT非表示機能**: カラムごとに「RT」ボタンをONにすることで、リポストや「いいねしました」等の表示を隠し、純粋なツイートのみを表示できます。
    * **カスタムCSS**: 設定画面から独自のCSSを記述し、配色の変更や要素の非表示など自由なカスタマイズが可能です。
* **アプリ内音量コントロール**:
    * 画面上部のスライダーで、アプリ内で再生される動画や音声のボリュームを一括調整できます。
* **Chrome拡張機能のサポート**:
    * 広告ブロックなどの拡張機能を導入可能。設定画面を持つ拡張機能（Old Twitter Layout等）にも対応。
* **フォーカスモード**:
    * ツイートをクリックすると単一表示に切り替わり、詳細確認や返信に集中できます。
* **複数アカウント対応（プロファイル機能）**:
    * 用途に合わせて独立した環境（Cookie、設定）を切り替え可能。仕事用とプライベート用などを完全に分離できます。
* **サーバー稼働状況モニター (v1.11.0 New)**:
    * 音量バーの横にXサーバーへの接続状態を表示します。クリックでDowndetectorを開き、障害情報を確認できます。

## 🖥️ 動作要件

* Windows 10 / 11
* [.NET 8.0 デスクトップ ランタイム](https://dotnet.microsoft.com/ja-jp/download/dotnet/8.0)
* [Microsoft Edge WebView2 ランタイム](https://developer.microsoft.com/ja-jp/microsoft-edge/webview2/)
    * （通常、最新のWindowsにはプリインストールされています）

## 🚀 使い方

### 基本操作
1.  `XColumn.exe` を実行します。
2.  **プロファイル**: 必要に応じて「新規」ボタンでプロファイルを作成します（デフォルトでも使用可能です）。
3.  上部の **「＋ カラム追加」** ボタンから必要なカラムを追加します。
4.  **並べ替え**: カラム上部のハンドル（URLが表示されているバー）をドラッグ＆ドロップして、カラムの順序を入れ替えます。
5.  **更新**: 各カラムのヘッダーにある更新ボタン、または自動更新チェックボックスを使用します。
6.  **RT非表示**: カラムヘッダーの「RT」にチェックを入れると、そのカラムのみリポストが非表示になります。

### 拡張機能（広告ブロック等）の導入方法
Chromeウェブストアの拡張機能をXColumnで使用するには、**解凍されたフォルダ（パッケージ化されていない状態）**が必要です。

1.  普段お使いのChrome等で、目的の拡張機能をインストールします。
2.  PC内の拡張機能保存フォルダを開きます。
    * Windowsの場合: `%LOCALAPPDATA%\Google\Chrome\User Data\Default\Extensions`
3.  目的の拡張機能IDのフォルダを探し、その中にあるバージョン番号のフォルダ（例: `1.0.0_0`）をコピーします。
    * ※フォルダの中に `manifest.json` が含まれていることを確認してください。
4.  コピーしたフォルダを任意の場所（ドキュメントフォルダなど、削除しない場所）に保存します。
5.  XColumnを起動し、上部メニューの **「設定・拡張」→「拡張機能の管理...」** を開きます。
6.  **「フォルダから追加...」** を押し、保存したフォルダを選択します。
7.  アプリを再起動すると、拡張機能が有効になります。

## 🛠️ ビルド方法 (開発者向け)

1.  このリポジトリをクローンします。
2.  Visual Studio 2022 で `XColumn.sln` を開きます。
3.  .NET 8.0 SDK がインストールされていることを確認します。
4.  NuGet パッケージ マネージャーからパッケージを復元します（WebView2, GongSolutions.WPF.DragDrop等）。
5.  ビルドして実行します。

## 更新履歴
- **v1.11.2 (2025/11/27)**
  - **不具合修正**: Home、End、PageUP、PageDownキー押下時の挙動を修正
- **v1.11.1 (2025/11/26)**
  - **不具合修正**: カラム幅を指定した際に、投稿欄などでカーソルキー（←→↑↓）が効かない問題を修正しました。
  - **操作性改善**: タッチパッドでの横スクロールの挙動を改善しました。
- **v1.11.0 (2025/11/26)**
  - **サーバー稼働状況モニター**: X(Twitter)サーバーへの接続状態を常時監視し、ステータスバーに表示する機能を追加。クリックで障害情報サイト(Downdetector)へアクセス可能です。
  - **UI改善**: ツールバーのボタンを機能ごとにドロップダウンメニューに整理し、画面を広く使えるようにしました。
- **v1.10.1 (2025/11/26)**
  - **スナップ機能の強化**: 複数ウィンドウをスナップさせている際、一方をアクティブにするともう一方のウィンドウも連動して最前面に表示されるように改善しました。
- **v1.10.0 (2025/11/26)**
  - **ウィンドウスナップ機能**: ウィンドウ移動時に画面端や他のウィンドウに吸着する機能を追加。吸着したウィンドウ同士の追従移動にも対応。
  - **設定項目の追加**: スナップ機能の有効/無効を選択画面から切り替え可能に。
- **v1.9.0 (2025/11/25)**
  - **フォント設定機能**: フォントの種類とサイズ(px)を設定画面から変更可能に。サイズ入力用の増減ボタンを追加。
  - **RT非表示機能**: カラムごとにリポスト（リツイート）を非表示にする設定を追加。
  - **操作性改善**:
    - タッチパッドでの横スクロールに仮対応。
    - テキストボックス内でのカーソル移動の不具合を修正。
- **v1.8.0 (2025/11/25)**
  - **音量コントロール**: ツールバーに音量スライダーを追加。
  - **レイアウト設定の強化**:
    - カラム幅のカスタマイズ（スライダー）
    - 等分割モードと固定幅モード（横スクロール）の切り替え
  - **カスタムCSS**: ユーザー独自のCSSを適用可能に。
  - 拡張機能の削除、無効時の処理見直し
  - 拡張機能「Old Twitter Layout(2025)」の設定ページを開けるように修正
  - フォーカスモードの遷移ロジック見直し、改善
- **v1.7.0 (2025/11/22)**
  - **設定項目の追加**: 自動更新時にページリロードを行うか、ソフト更新を行うかを選択可能に。
    - マウスオーバーかつスクロール中は自動更新（トップ戻り）を防ぐ機能を追加。
- **v1.6.0 (2025/11/22)**
  - **画面表示オプション機能を追加**: 設定画面から以下の表示をカスタマイズ可能になりました。
    - 左側メニューの非表示（ホーム画面 / それ以外のカラムで個別に設定可）
    - リストヘッダー（画像や詳細情報）の簡易表示
- **v1.5.1 (2025/11/19)**
  - **Chrome拡張機能の設定画面機能を追加**: インストール済み拡張機能のオプションページを開けるようになりました。
  - 拡張機能管理画面のUI調整。
- **v1.5.0 (2025/11/18)**
  - **Chrome拡張機能のサポートを追加**: 広告ブロッカーなどを導入可能になりました。
  - ソースコードの大幅な整理とドキュメントコメントの追加。
  - 安定性向上のため、WebView2パッケージのバージョンを安定版に変更。
- **v1.4.2 (2025/11/17)**
  - アプリがアクティブ（操作中）の時に自動更新を一時停止するかどうかを選択できる設定を追加。
  - アプリが非アクティブから復帰した際、タイマーをリセットせず前回の残り時間から再開するように挙動を改善。
- **v1.4.1 (2025/11/17)**
  - 自動更新をONにした直後にカウントダウンが始まらない不具合を修正
  - UI上で現在使用中のプロファイル名が判別しやすいよう改善
  - カラムから直接リポストしようとした際に、フォーカスモードに移行せず、正常にリポストできるよう修正
- **v1.4.0 (2025/11/17)**
  - 複数プロファイル機能を追加（設定だけでなく、Xアカウントのログイン状態も切り替え可能）
  - プロファイルの新規作成、名前変更、削除機能を追加
  - アプリがアクティブ（フォアグラウンド）の時は自動更新を停止し、非アクティブ（バックグラウンド）時に再開するよう変更
  - コードのリファクタリング（機能ごとのファイル分割）
- **v1.3.1 (2025/11/13)**
  - マルチディスプレイ環境において、セカンダリディスプレイ上にウィンドウを配置した際に、ウィンドウの位置とサイズが正しく保存・復元されない不具合を修正
  - （開発）マルチディスプレイ対応（System.Windows.Formsの参照）に伴うビルドエラーを修正
- **v1.3.0 (2025/11/13)**
  - ポスト内の外部リンクをクリックした際、アプリ内ではなく既定のブラウザで開くよう修正
  - アップデート確認ダイアログに、GitHubリリースの更新内容を表示するよう改善
- **v1.2.0 (2025/11/11)**
  - アプリ名を `TweetDesk` から `XColumn` に変更
  - フォーカスモードから戻る際、元のタイムライン表示に戻るよう修正
  - フォーカスモード中に返信画面に移動してもフォーカスが解除されないよう修正
  - 起動時のアップデート確認機能を追加
- **v1.1.0 (2025/11/09)**
  - DPAPI による設定ファイルの暗号化と復号を実装
  - 設定ファイルの拡張子を `.json` から `.dat` に変更
  - 許可ドメインの検証メソッド `IsAllowedDomain` を追加
  - フォーカスモードの復元と遷移ロジックを改善
  - 設定読み込み時のエラーハンドリングを強化
  - デフォルトカラムのロードロジックを改善
- **v1.0.0 (2025/11/09)**
  - 初期リリース (TweetDeskとして)

---

## 📄 ライセンス (License)

このプロジェクトは **MIT ライセンス** の下で公開されています。